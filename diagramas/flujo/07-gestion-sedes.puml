@startuml "Nexus RH - Flujo de Gestión de Sedes"
!theme plain
skinparam backgroundColor #F8F9FA
skinparam activity {
    BackgroundColor #FFFFFF
    BorderColor #6c757d
    FontColor #212529
}
skinparam diamond {
    BackgroundColor #FFF3CD
    BorderColor #FFC107
    FontColor #856404
}
skinparam start {
    BackgroundColor #D4EDDA
    BorderColor #28A745
    FontColor #155724
}
skinparam stop {
    BackgroundColor #F8D7DA
    BorderColor #DC3545
    FontColor #721C24
}

title "Flujo de Gestión de Sedes - Nexus RH"

start

:Usuario accede al módulo de sedes;

:Determinar rol del usuario;

if (¿Rol?) then (Administrador)
    :Mostrar opciones completas;
    :Crear, Editar, Eliminar, Listar;
elseif (¿Rol?) then (RH)
    :Mostrar opciones de consulta;
    :Consultar sedes activas;
elseif (¿Rol?) then (Gerente)
    :Mostrar opciones de área;
    :Consultar sedes supervisadas;
else (Jefe de Área)
    :Mostrar opciones limitadas;
    :Consultar mi sede;
endif

:Usuario selecciona acción;

if (¿Acción?) then (Crear Sede)
    :Acceder a formulario de creación;
    :Completar datos de la sede;
    :Validar nombre único;
    
    if (¿Datos válidos?) then (Sí)
        :Guardar sede;
        :Mostrar confirmación;
        stop
    else (No)
        :Mostrar errores;
        :Permitir corrección;
    endif
    
elseif (¿Acción?) then (Editar Sede)
    :Seleccionar sede;
    :Cargar datos actuales;
    :Modificar información;
    :Validar cambios;
    
    if (¿Cambios válidos?) then (Sí)
        :Actualizar sede;
        :Mostrar confirmación;
        stop
    else (No)
        :Mostrar errores;
        :Permitir corrección;
    endif
    
elseif (¿Acción?) then (Eliminar Sede)
    :Seleccionar sede;
    :Confirmar eliminación;
    
    if (¿Confirmar?) then (Sí)
        :Verificar que no tenga departamentos;
        
        if (¿Sin departamentos?) then (Sí)
            :Eliminar sede;
            :Mostrar confirmación;
            stop
        else (No)
            :Mostrar error de dependencias;
            :Cancelar eliminación;
        endif
    else (No)
        :Cancelar eliminación;
    endif
    
else (Listar Sedes)
    :Cargar lista de sedes;
    
    if (¿Aplicar filtros?) then (Sí)
        :Filtrar por estado/ubicación;
        :Mostrar resultados filtrados;
    else (No)
        :Mostrar todas las sedes;
    endif
    
    :Permitir navegación;
endif

stop

@enduml 